<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{/layout/layout.html :: dynamic(~{::body})}">

<body>
	<!--breadcrumbs area start-->
	<div class="breadcrumbs_area">
		<div class="row">
			<div class="col-12">
				<div class="breadcrumb_content">
					<ul>
						<li><a href="index.html">home</a></li>
						<li><i class="fa fa-angle-right"></i></li>
						<li>Profile</li>
					</ul>

                </div>
            </div>
        </div>
    </div>
    <!--breadcrumbs area end-->
    <!--about section area -->
    <div class="container rounded bg-white mt-5 mb-5">
        <div class="row">
            <div class="col-md-3 border-right">
                <div class="d-flex flex-column align-items-center text-center p-3 py-5">
                    <img class="rounded-circle mt-5" width="150px" th:src="@{|/assets/images/${ac.Photo}|}">
                    <span class="font-weight-bold" th:text="${ac.Fullname}">Fullname</span>
                    <span class="text-black-50" th:text="${ac.Email}">Email</span>
                </div>
            </div>
            <div class="col-md-5 border-right">
                <div class="p-3 py-5">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4  th:text="#{new.ProfileSettings}" class="text-right">Profile Settings</h4>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-12">
                            <label th:text="#{new.Fullname}" class="labels">Fullname</label>
                            <input type="text" class="form-control" placeholder="Mobile Number" th:value="${ac.Fullname}">
                        </div>
                        <div class="col-md-12">
                            <label class="labels">Email</label>
                            <input type="text" class="form-control" placeholder="Mobile Number" th:value="${ac.Email}">
                        </div>
                        <div class="col-md-12">
                            <label th:text="#{new.MobileNumber}" class="labels">Mobile Number</label>
                            <input type="text" class="form-control" placeholder="Mobile Number" th:value="${ac.Phone}">
                        </div>
                        <div class="col-md-12">
                            <label  th:text="#{new.address}" class="labels">Address</label>
                            <input type="text" class="form-control" placeholder="Enter Address" th:value="${ac.Address}">
                        </div>
                        <div class="form-group col-md-12">
                            <label for="passwordField"  th:text="#{login.password}" class="labels">Password</label>
                            <div class="input-group">
                                <input type="password" class="form-control" id="passwordField"
                                    placeholder="Enter Password" th:value="${ac.Password}">
                                <div class="input-group-append">
                                    <button type="button" th:text="#{new.Showpassword}" class="btn btn-outline-secondary" id="passwordToggleBtn"
                                        onclick="togglePasswordField()">Show password</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-12">
                            <label th:text="#{new.Date}">Date:</label>
                            <input type="date" class="form-control" th:value="${ac.date}">
                        </div>
                        <div class="form-group col-md-12">
                            <label th:text="#{new.Gender}">Gender:</label>
                            <div class="form-control">
                                <label class="radio-inline">
                                    <input type="radio" th:checked="${ac.gender == true}" name="gender" value="true" th:text="#{new.male}">
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" th:checked="${ac.gender == false}" name="gender" value="false" th:text="#{new.female}">
                                </label>
                            </div>
                        </div>
                        <div class="form-group col-md-12">
                            <label th:text="#{new.photo}">Photo:</label>
                            <input type="file" class="form-control" id="photo"
                                onchange="angular.element(this).scope().imageChanged(this.files)">
                        </div>
                        <div class="mt-5 text-center">
                            <button class="btn btn-primary profile-button" type="button" ng-click="update()" th:text="#{new.SaveProfile}">Save
                                Profile</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--about section end-->


	<!--counterup area -->
	<div class="counterup_section">
		<div class="row">
			<div class="col-lg-3 col-md-6 col-sm-6">
				<div class="single_counterup">
					<div class="counter_img">
						<img src="assets\img\cart\count.png" alt="">
					</div>
					<div class="counter_info">
						<h2 class="counter_number">2170</h2>
						<p>happy customers</p>
					</div>
				</div>
			</div>
			<div class="col-lg-3 col-md-6 col-sm-6">
				<div class="single_counterup count-two">
					<div class="counter_img">
						<img src="assets\img\cart\count2.png" alt="">
					</div>
					<div class="counter_info">
						<h2 class="counter_number">8080</h2>
						<p>AWARDS won</p>
					</div>
				</div>
			</div>
			<div class="col-lg-3 col-md-6 col-sm-6">
				<div class="single_counterup">
					<div class="counter_img">
						<img src="assets\img\cart\count3.png" alt="">
					</div>
					<div class="counter_info">
						<h2 class="counter_number">2150</h2>
						<p>HOURS WORKED</p>
					</div>
				</div>
			</div>
			<div class="col-lg-3 col-md-6 col-sm-6">
				<div class="single_counterup count-two">
					<div class="counter_img">
						<img src="assets\img\cart\cart5.png" alt="">
					</div>
					<div class="counter_info">
						<h2 class="counter_number">2170</h2>
						<p>COMPLETE PROJECTS</p>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--counterup end-->

	<!--about progress bar -->
	<div class="about_progressbar">
		<div class="row align-items-center">
			<div class="col-lg-6 col-md-6">
				<div class="progressbar_inner">
					<h2>We have Skills to show</h2>
					<div class="progress_skill">
						<div class="progress">
							<div class="progress-bar about_prog wow fadeInLeft"
								data-wow-duration="0.8s" data-wow-delay=".3s" role="progressbar"
								style="width: 60%" aria-valuenow="25" aria-valuemin="0"
								aria-valuemax="100">
								<span class="progress_persent">HTML/CSS</span>
							</div>
						</div>
						<span class="progress_discount">60%</span>
					</div>
					<div class="progress_skill">
						<div class="progress">
							<div class="progress-bar about_prog wow fadeInLeft"
								data-wow-duration="0.8s" data-wow-delay=".5s" role="progressbar"
								style="width: 90%" aria-valuenow="25" aria-valuemin="0"
								aria-valuemax="100">

								<span class="progress_persent">WORDPRESS THEME </span>
							</div>

						</div>
						<span class="progress_discount">90%</span>
					</div>
					<div class="progress_skill">
						<div class="progress">
							<div class="progress-bar about_prog wow fadeInLeft"
								data-wow-duration="0.8s" data-wow-delay=".7s" role="progressbar"
								style="width: 70%" aria-valuenow="25" aria-valuemin="0"
								aria-valuemax="100">

								<span class="progress_persent">Typhography </span>
							</div>

						</div>
						<span class="progress_discount">70%</span>
					</div>
					<div class="progress_skill">
						<div class="progress">
							<div class="progress-bar about_prog wow fadeInLeft"
								data-wow-duration="0.8s" data-wow-delay=".7s" role="progressbar"
								style="width: 80%" aria-valuenow="25" aria-valuemin="0"
								aria-valuemax="100">

								<span class="progress_persent">Branding </span>
							</div>

						</div>
						<span class="progress_discount">80%</span>
					</div>
				</div>
			</div>
			<div class="col-lg-6 col-md-6">
				<div class="about__img">
					<img src="assets\img\ship\about3.jpg" alt="">
				</div>
			</div>
		</div>
	</div>
	<!--about progress bar end -->

	<!--brand logo strat-->
	<div class="brand_logo brand_about">
		<div class="block_title">
			<h3>Brands</h3>
		</div>
		<div class="row">
			<div class="brand_active owl-carousel">
				<div class="col-lg-2">
					<div class="single_brand">
						<a href="#"><img src="assets\img\brand\brand1.jpg" alt=""></a>
					</div>
				</div>
				<div class="col-lg-2">
					<div class="single_brand">
						<a href="#"><img src="assets\img\brand\brand2.jpg" alt=""></a>
					</div>
				</div>
				<div class="col-lg-2">
					<div class="single_brand">
						<a href="#"><img src="assets\img\brand\brand3.jpg" alt=""></a>
					</div>
				</div>
				<div class="col-lg-2">
					<div class="single_brand">
						<a href="#"><img src="assets\img\brand\brand4.jpg" alt=""></a>
					</div>
				</div>
				<div class="col-lg-2">
					<div class="single_brand">
						<a href="#"><img src="assets\img\brand\brand5.jpg" alt=""></a>
					</div>
				</div>
				<div class="col-lg-2">
					<div class="single_brand">
						<a href="#"><img src="assets\img\brand\brand6.jpg" alt=""></a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--brand logo end-->
	</div>
	<!--pos page inner end-->
	</div>
	</div>
	<!--pos page end-->
	<!-- ... (existing code) ... -->

	<script>
        document.addEventListener("DOMContentLoaded", function () {
            var updateButton = document.getElementById("submitFormButton");

            if (updateButton) {
                updateButton.addEventListener("click", function () {
                    var fullname = document.getElementById("fullname").value;
                    var email = document.getElementById("email").value;
                    var mobileNumber = document.getElementById("mobileNumber").value;
                    var address = document.getElementById("address").value;
                    var date = document.getElementById("date").value;
                    var gender = document.querySelector('input[name="gender"]:checked').value;
                    var accountId = document.getElementById("Id").textContent;


                    var data = {
                        Fullname: fullname,
                        Email: email,
                        Phone: mobileNumber,
                        Address: address,
                        date: date,
                        gender: gender
                    };

                    fetch("/rest/accounts/" + accountId, {
                        method: "PUT",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(data)
                    })
                    .then(function (response) {
                        if (response.ok) {
                            return response.json(); // Optional: Parse response JSON if needed
                        } else {
                            throw new Error("Lỗi khi cập nhật hồ sơ."); // Throwing an error will trigger the catch block
                        }
                    })
                    .then(function (data) {
                        alert("Hồ sơ được cập nhật thành công!");
                        // Optionally update UI or perform other actions after successful update
                    })
                    .catch(function (error) {
                        console.error("Error:", error);
                        alert("Đã xảy ra lỗi khi cập nhật hồ sơ. Vui lòng thử lại.");
                    });
                });
            }
        });
    </script>



</body>

</html>